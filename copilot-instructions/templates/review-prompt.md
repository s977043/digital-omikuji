# GitHub Copilot コードレビュープロンプト

## プロジェクト情報
- **プロジェクト名**: digital-omikuji
- **フレームワーク**: Remix with TypeScript
- **レビュー対象**: [TARGET_FILE_OR_COMPONENT]

## レビュー観点

### 1. TypeScript型安全性
- [ ] strict モードの遵守
- [ ] 適切な型定義
- [ ] any型の使用回避
- [ ] null/undefined の適切な処理
- [ ] 型アサーションの適切な使用

### 2. React ベストプラクティス
- [ ] 関数型コンポーネントの使用
- [ ] React Hooks の適切な使用
- [ ] 不要な再レンダリングの回避
- [ ] useEffect の依存配列の適切な設定
- [ ] キーの適切な設定

### 3. パフォーマンス最適化
- [ ] memo, useMemo, useCallback の適切な使用
- [ ] 重い処理の最適化
- [ ] バンドルサイズの考慮
- [ ] 遅延ローディングの活用
- [ ] 不要なライブラリの回避

### 4. アクセシビリティ
- [ ] セマンティックHTML の使用
- [ ] ARIA属性の適切な設定
- [ ] キーボードナビゲーション対応
- [ ] スクリーンリーダー対応
- [ ] カラーコントラストの確保

### 5. セキュリティ
- [ ] XSS攻撃の対策
- [ ] CSRF攻撃の対策
- [ ] 入力値の検証
- [ ] 機密情報の漏洩防止
- [ ] 依存関係の脆弱性チェック

### 6. コードの品質
- [ ] 可読性の高さ
- [ ] 保守性の確保
- [ ] DRY原則の遵守
- [ ] SOLID原則の考慮
- [ ] 適切な命名規則

### 7. エラーハンドリング
- [ ] 例外処理の実装
- [ ] エラーメッセージの適切性
- [ ] フォールバック処理
- [ ] ログ出力の適切性
- [ ] ユーザーへの分かりやすいエラー表示

## レビューチェックリスト

### コード構造
```typescript
// 良い例
const Component: React.FC<Props> = ({ prop1, prop2 }) => {
  // ロジック
  return <div>{/* JSX */}</div>;
};

// 改善が必要な例とその理由
```

### 型定義
```typescript
// 良い例
interface UserProps {
  id: string;
  name: string;
  email?: string;
}

// 改善が必要な例
// any型の使用、不適切な型定義等
```

### Hooks の使用
```typescript
// 良い例
const [state, setState] = useState<State>(initialState);
useEffect(() => {
  // 副作用処理
}, [dependency1, dependency2]);

// 改善が必要な例
// 依存配列の不備、不適切なHooks使用等
```

## 改善提案フォーマット

### 問題の指摘
**問題**: [具体的な問題点]
**行番号**: [該当する行]
**重要度**: [Critical/High/Medium/Low]

### 改善案
**推奨される修正**:
```typescript
// 修正前
// 問題のあるコード

// 修正後
// 改善されたコード
```

**理由**: [なぜこの修正が必要か、どのような利益があるか]

### セキュリティ指摘
**脆弱性**: [セキュリティ上の問題]
**影響**: [攻撃される可能性や影響度]
**対策**: [具体的な修正方法]

### パフォーマンス指摘
**問題**: [パフォーマンス上の問題]
**影響**: [ユーザー体験への影響]
**最適化案**: [具体的な改善方法]

## 出力例
```markdown
# コードレビュー結果: [COMPONENT_NAME]

## 概要
全体的な評価とコメント

## Critical Issues
### 1. セキュリティ問題
- **問題**: XSS脆弱性の可能性
- **行番号**: 25-30
- **修正案**: 入力値のサニタイズ実装

## High Priority Issues
### 1. TypeScript型安全性
- **問題**: any型の使用
- **推奨**: 適切な型定義の実装

## Medium Priority Issues
### 1. パフォーマンス最適化
- **問題**: 不要な再レンダリング
- **推奨**: React.memo の使用

## Low Priority Issues
### 1. コードの可読性
- **問題**: 変数名が不明確
- **推奨**: より説明的な名前への変更

## 推奨事項
- [ ] テストカバレッジの向上
- [ ] ドキュメント追加
- [ ] リファクタリング検討

## 総合評価
スコア: [点数]/10
コメント: [総合的な評価コメント]
```

## 注意事項
- 建設的なフィードバックを心がける
- 具体的な改善案を提示する
- 優先度を明確にする
- 理由を説明する
- 日本語で分かりやすく記述する